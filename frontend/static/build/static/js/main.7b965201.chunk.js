(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{38:function(e,t,n){},41:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(28),r=n.n(s),o=(n(38),n(4)),i=n.n(o),l=n(9),d=n(2),b=n(10),j=n(3),u=n(0);var m=function(e){var t,n,c=Object(a.useState)(""),s=Object(d.a)(c,2),r=s[0],o=s[1];if(!e.isAuth)return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{children:"Profile"}),Object(u.jsxs)("form",{action:"",onSubmit:e.handleSubmit,children:[Object(u.jsx)("input",{type:"text",name:"alias",value:null===(t=e.profile)||void 0===t?void 0:t.alias,onChange:function(t){var n=t.target,a=n.name,c=n.value;e.setProfile(Object(j.a)(Object(j.a)({},e.profile),{},Object(b.a)({},a,c)))}}),Object(u.jsx)("input",{type:"file",name:"avatar",onChange:function(t){var n=t.target.files[0];e.setProfile(Object(j.a)(Object(j.a)({},e.profile),{},{image:n}));var a=new FileReader;a.onloadend=function(){o(a.result)},a.readAsDataURL(n),console.log(a)}}),(null===(n=e.profile)||void 0===n?void 0:n.image)&&Object(u.jsx)("img",{src:r,alt:""}),Object(u.jsx)("button",{type:"submit",children:"Save Profile"})]})]})},h=(n(41),n(6)),x=n(7),O=n.n(x);var f=Object(h.i)((function(e){var t=Object(a.useState)({username:"",email:"",password1:"",password2:""}),n=Object(d.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(null),o=Object(d.a)(r,2),m=(o[0],o[1]),x=function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},n,a))}))};function f(e){console.warn(e)}function p(){return(p=Object(l.a)(i.a.mark((function t(n){var a,s,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),c.password1===c.password2){t.next=5;break}m("Passwords do not match"),t.next=18;break;case 5:return a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")},body:JSON.stringify(c)},t.next=8,fetch("/rest-auth/registration/",a).catch(f);case 8:if(s=t.sent){t.next=13;break}console.log(s),t.next=18;break;case 13:return t.next=15,s.json();case 15:r=t.sent,O.a.set("Authorization","Token ".concat(r.key)),e.setIsAuth(!0);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(u.jsx)(h.a,{to:"/"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"Registration-title mt-3 d-flex justify-content-center mt-3  shadow p-3 mb-5 bg-body rounded",children:"Register"}),Object(u.jsx)("div",{className:"shadow p-3 mb-5 bg-body rounded mt-2",children:Object(u.jsx)("form",{className:"form registrationForm d-flex justify-content-center mt-3",onSubmit:function(e){return p.apply(this,arguments)},children:Object(u.jsxs)("div",{className:"form-group form-control col-lg-1",children:[Object(u.jsx)("input",{type:"text",className:"form-user form-control  mt-3",id:"username",placeholder:"enter username",required:!0,name:"username",onChange:x,value:c.username}),Object(u.jsx)("input",{type:"text",className:"form-control col-xs-4 mt-3",id:"email",placeholder:"enter email",required:!0,name:"email",onChange:x,value:c.email}),Object(u.jsx)("input",{type:"password",className:"form-control col-xs-4 mt-3",id:"password1",placeholder:"enter password",required:!0,name:"password1",onChange:x,value:c.password1}),Object(u.jsx)("input",{type:"password",className:"form-control col-xs-4 mt-3",id:"password2",placeholder:"confirm password",required:!0,name:"password2",onChange:x,value:c.password2}),Object(u.jsx)("button",{type:"submit",className:"registration-btn btn btn-dark d-flex justify-content-center mt-3",style:{fontFamily:"Oswald"},children:"Register"})]})})})]})}));var p=Object(h.i)((function(e){function t(t){var n=t.target,a=n.name,c=n.value;e.setUsers((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},a,c))}))}function n(e){console.warn(e)}function a(){return(a=Object(l.a)(i.a.mark((function t(a){var c,s,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),c={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")},body:JSON.stringify(e.users)},t.next=4,fetch("/rest-auth/login/",c).catch(n);case 4:if(s=t.sent){t.next=9;break}console.log(s),t.next=15;break;case 9:return console.log(s),t.next=12,s.json();case 12:r=t.sent,O.a.set("Authorization","Token ".concat(r.key)),e.setIsAuth(!0);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(u.jsx)(h.a,{to:"/"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"Login-title  d-flex justify-content-center mt-3  shadow p-3 mb-5 bg-body rounded",style:{fontFamily:"Oswald"},children:"Login"}),Object(u.jsxs)("div",{className:"container container-md mt-4 shadow p-3 mb-5 bg-body rounded mt-2",children:[Object(u.jsxs)("form",{className:"form-signin form  d-flex justify-content-center mt-3",onSubmit:function(e){return a.apply(this,arguments)},children:[Object(u.jsx)("input",{type:"text",className:"form-user mx-3",id:"username",placeholder:"Enter Username",required:!0,name:"username",onChange:t,value:e.users.username}),Object(u.jsx)("input",{type:"password",id:"password",placeholder:"Enter Password",required:!0,name:"password",onChange:t,value:e.users.password}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("button",{type:"submit",className:"homeButton Login-btn btn btn-dark mt-3",style:{fontFamily:"Oswald"},children:"Login"})})})]}),Object(u.jsx)("h2",{className:" d-flex justify-content-center mt-4",style:{fontFamily:"Oswald"},children:"Need to Register?"}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{class:"col text-center",children:Object(u.jsx)("button",{type:"button",className:"homeButton btn btn-dark",style:{fontFamily:"Oswald"},onClick:function(){return e.setState({isAuth:!1,selection:"registration"})},children:"Register"})})})})]})]})}));var v=function(e){var t,n=Object(a.useState)({title:"",body:"",image:null}),c=Object(d.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(""),m=Object(d.a)(o,2),h=m[0],x=m[1],f=null===(t=e.articles)||void 0===t?void 0:t.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:e.title}),Object(u.jsx)("p",{children:e.body}),Object(u.jsx)("span",{children:e.created_at}),Object(u.jsx)("img",{className:"article-image",src:e.image})]})}));function p(e){var t=e.target,n=t.name,a=t.value;r(Object(j.a)(Object(j.a)({},s),{},Object(b.a)({},n,a)))}function v(){return(v=Object(l.a)(i.a.mark((function e(t){var n,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")},body:JSON.stringify(s)},e.next=4,fetch("/api_v1/articles/",n);case 4:if(a=e.sent){e.next=9;break}console.log(a),e.next=13;break;case 9:return e.next=11,a.json();case 11:c=e.sent,O.a.set("Authorization","Token ".concat(c.key));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(e),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{children:"Articles"}),f,Object(u.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(u.jsx)("input",{type:"text",className:"form-user",id:"articleTitle",placeholder:"Title",required:!0,name:"title",onChange:p,value:s.title}),Object(u.jsx)("input",{type:"text",className:"form-user",id:"articleBody",placeholder:"Text",required:!0,name:"body",onChange:p,value:s.body}),Object(u.jsx)("input",{type:"file",className:"form-user",id:"articleFile",placeholder:"select file",required:!0,name:"image",onChange:function(e){var t=e.target.files[0];r(Object(j.a)(Object(j.a)({},s),{},{image:t}));var n=new FileReader;n.onloadend=function(){x(n.result)},n.readAsDataURL(t),console.log(n)}}),s.image&&Object(u.jsx)("img",{src:h,alt:""}),Object(u.jsx)("button",{type:"submit",children:"Submit"})]})]})},g=(n(47),n(5));var y=function(e){var t={date:new Date};return e.admin.is_staff&&e.isAuth?Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark nav",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{className:"navbar-brand",style:{fontFamily:"Oswald",weight:700,fontSize:"30px"},href:"/",children:"Chatty News"}),Object(u.jsx)("div",{class:"date",children:Object(u.jsxs)("p",{className:"d-flex justify-content-center",style:{color:"white",fontFamily:"Oswald"},children:["  ",t.date.toLocaleDateString()]})}),Object(u.jsx)("div",{className:"collapse navbar-collapse nav justify-content-end text-light",id:"navbarResponsive",children:Object(u.jsxs)("ul",{className:"navbar-nav ml-auto text-light",children:[Object(u.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(u.jsx)(g.b,{className:"",style:{textDecoration:"none"},to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item mt-2",children:Object(u.jsx)(g.b,{style:{textDecoration:"none"},to:"/admin",children:"Admin"})}),Object(u.jsx)("li",{className:"btn-link",children:Object(u.jsx)("button",{style:{textDecoration:"none"},className:"btn btn-link logout text-light",type:"button",onClick:function(){return e.handleLogoutSubmit()},children:"Logout"})})]})})]})}):e.isAuth&&!e.admin.is_staff?Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark nav",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{className:"navbar-brand",style:{fontFamily:"Oswald",weight:700},href:"/",children:"Chatty News"}),Object(u.jsx)("div",{className:"collapse navbar-collapse nav justify-content-end text-light",id:"navbarResponsive",children:Object(u.jsxs)("ul",{className:"navbar-nav ml-auto text-light",children:[Object(u.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(u.jsx)(g.b,{className:"",style:{textDecoration:"none"},to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item mt-2",children:Object(u.jsx)(g.b,{style:{textDecoration:"none"},to:"/myarticles",children:"My Articles"})}),Object(u.jsx)("li",{className:"btn-link",children:Object(u.jsx)("button",{style:{textDecoration:"none"},className:"btn btn-link logout text-light",type:"button",onClick:function(){return e.handleLogoutSubmit()},children:"Logout"})})]})})]})}):Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark nav",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{className:"navbar-brand",style:{fontFamily:"Oswald",weight:700},href:"/",children:"Chatty News"}),Object(u.jsx)("div",{className:"collapse navbar-collapse nav justify-content-end text-light",id:"navbarResponsive",children:Object(u.jsxs)("ul",{className:"navbar-nav ml-auto text-light",children:[Object(u.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(u.jsx)(g.b,{className:"",style:{textDecoration:"none"},to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item mt-2",children:Object(u.jsx)(g.b,{style:{textDecoration:"none"},to:"/myarticles",children:"My Articles"})}),Object(u.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(u.jsx)(g.b,{style:{textDecoration:"none"},to:"/register",children:"Register"})}),Object(u.jsx)("li",{className:"nav-item mt-2 mx-1",children:Object(u.jsx)(g.b,{style:{textDecoration:"none"},to:"/login",children:"Login"})}),Object(u.jsx)("li",{className:"btn-link",children:Object(u.jsx)("button",{style:{textDecoration:"none"},className:"btn btn-link logout text-light",type:"button",onClick:function(){return e.handleLogoutSubmit()},children:"Logout"})})]})})]})})},w=n(19),N=n(17),k=n(18),S=n.n(k);var F,C=function(e){var t=Object(u.jsxs)("div",{className:"shadow p-3 mb-5 bg-body rounded mt-3",children:[Object(u.jsx)("h2",{children:"Related Local News"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{style:{textDecoration:"none"},href:"https://www.greenvilleonline.com/",target:"_blank",children:"GREENVILLE ONLINE"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{style:{textDecoration:"none"},href:"https://www.wyff4.com/",target:"_blank",children:"wyff4"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{style:{textDecoration:"none"},href:"https://www.foxcarolina.com/",target:"_blank",children:"FOX CAROLINA"})})]})]}),n=Object(u.jsxs)("div",{className:"shadow p-3 mb-5 bg-body rounded mt-3",children:[Object(u.jsx)("h2",{children:"Related World News"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{style:{textDecoration:"none"},href:"https://www.bbc.com/news/world",target:"_blank",children:"BBC"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{style:{textDecoration:"none"},href:"https://www.nytimes.com/section/world",target:"_blank",children:"NY TIMES"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{style:{textDecoration:"none"},href:"https://www.nbcnews.com/world",target:"_blank",children:"NBC"})})]})]}),a=Object(u.jsxs)("div",{className:"shadow p-3 mb-5 bg-body rounded mt-3",children:[Object(u.jsx)("h2",{children:"Related Sports News"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{style:{textDecoration:"none"},href:"https://www.espn.com/soccer/",target:"_blank",children:"ESPN"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{style:{textDecoration:"none"},href:"https://www.goal.com/en-us",target:"_blank",children:"GOAL"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{style:{textDecoration:"none"},href:"https://www.cbssports.com/soccer/",target:"_blank",children:"CBS"})})]})]});return"Sports"===e.selection?a:"World"===e.selection?n:"Local"===e.selection?t:Object(u.jsxs)(u.Fragment,{children:[t,a,n]})},A=n(15);var T=function(e){var t,n,c,s=Object(a.useState)({title:"",body:"",image:null}),r=Object(d.a)(s,2),o=(r[0],r[1],Object(a.useState)()),i=Object(d.a)(o,2),l=i[0],b=i[1],j=Object(a.useState)(""),m=Object(d.a)(j,2),h=(m[0],m[1],A.default.p(F||(F=Object(N.a)(["\n\tcolor: #000;\n\t:hover {\n\t\tcursor: pointer;\n\t}\n"])))),x=Object(u.jsx)("div",{className:"readMore",children:"Read More"});null===(t=e.articles)||void 0===t||t.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:e.title}),Object(u.jsx)("p",{children:e.body}),Object(u.jsx)("span",{children:e.categories}),Object(u.jsx)("img",{className:"article-image",src:e.image})]})})),console.log(e);var O=Object(w.a)(new Set(null===(n=e.articles)||void 0===n?void 0:n.map((function(e){return e.categories})))),f=O.map((function(e){return Object(u.jsx)("button",{className:"homeButton nav-btn btn btn-dark mx-2 justify-content-center sticky-top btn-lg",style:{fontFamily:"Oswald"},onClick:function(){return b(e)},children:e},e)})),p=null===(c=e.articles)||void 0===c?void 0:c.filter((function(e){return l?e.categories===l:e})),v=null===p||void 0===p?void 0:p.map((function(e){return Object(u.jsxs)("div",{className:"mt-3 shadow p-3 mb-5 bg-body rounded",children:[Object(u.jsx)("img",{className:"article-image rounded mx-auto d-block",src:e.image}),Object(u.jsxs)("p",{style:{fontStyle:"italic"},children:[" by ",e.author_name.charAt(0).toUpperCase()+e.author_name.slice(1)]}),Object(u.jsx)("h3",{className:"articleTitle",style:{fontFamily:"Oswald"},children:e.title}),Object(u.jsx)(h,{children:Object(u.jsx)(S.a,{text:e.body,min:80,ideal:100,max:1e3,readMoreText:x})})]})}));return console.log({categories:O}),console.log({filteredArticles:p}),console.log({filteredArticlesHTML:v}),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"container-lg col-12 col-md-8",children:[Object(u.jsx)("div",{className:"navButtons",children:Object(u.jsx)("div",{class:"container mt-2 position-sticky",children:Object(u.jsx)("div",{class:"row sticky-top",children:Object(u.jsxs)("div",{class:"col text-center sticky-top",children:[Object(u.jsx)("button",{className:"homeButton nav-btn btn btn-dark mx-2 justify-content-center sticky-top btn-lg",style:{fontFamily:"Oswald"},onClick:function(){return b(null)},children:"All"}),f]})})})}),Object(u.jsxs)("h2",{className:"headers shadow p-3 mb-5 bg-body rounded mt-2 sticky-top",children:[l?l.toUpperCase():"All"," NEWS"]}),Object(u.jsx)("div",{class:"container",children:Object(u.jsxs)("div",{class:"row",children:[Object(u.jsx)("div",{class:"col-8",children:v}),Object(u.jsx)("div",{class:"col",children:Object(u.jsx)(C,{selection:l})})]})})]})})};var D,R=function(e){console.log({draftArticle:e});var t=Object(a.useState)({title:e.article.title,body:e.article.body,options:e.article.options,image:null,categories:e.article.categories}),n=Object(d.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),m=(o[0],o[1]);console.log("before",e);var h=function(e){var t=e.target,n=t.name,a=t.value;s(Object(j.a)(Object(j.a)({},c),{},Object(b.a)({},n,a)))};function x(){return(x=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/articles/?options=ALL/");case 2:if((t=e.sent).ok){e.next=7;break}console.log(t),e.next=11;break;case 7:return e.next=9,t.json();case 9:n=e.sent,console.log({data:n});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"shadow p-3 mb-5 bg-body rounded mt-2",children:[Object(u.jsx)("h2",{style:{fontFamily:"Oswald"},className:"mt-2 text-center",children:c.title}),Object(u.jsxs)("form",{className:"mt-5 col-8 draftFormn ds-flex justify-content-center ",children:[Object(u.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(u.jsx)("label",{htmlFor:"title",children:"Title"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"articleTitle",placeholder:"Article Title",onChange:h,required:!0,name:"title",value:c.title})]}),Object(u.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(u.jsx)("label",{htmlFor:"body",children:"Article Body"}),Object(u.jsx)("textarea",{type:"text",className:"form-control",id:"articleText",placeholder:"Article body",onChange:h,required:!0,name:"body",value:c.body})]}),Object(u.jsx)("label",{htmlFor:"body",children:"Category"}),Object(u.jsx)("input",{className:"form-control",onChange:h,name:"categories",value:c.categories,placeholder:"Category"}),Object(u.jsx)("div",{className:"form-group text-left mb-3",children:Object(u.jsx)("input",{type:"file",name:"image",onChange:function(e){var t=e.target.files[0];s(Object(j.a)(Object(j.a)({},c),{},{image:t}));var n=new FileReader;n.onloadend=function(){m(n.result)},n.readAsDataURL(t)}})}),Object(u.jsx)("img",{src:c.image,alt:""}),Object(u.jsx)("div",{className:"form-group text-left mb-3",children:Object(u.jsx)("button",{type:"button",className:"homeButton form-control  btn btn-dark",id:"articleOptions",onClick:function(t){t.preventDefault();var n=new FormData;n.append("title",c.title),n.append("body",c.body),n.append("options",t.target.value),n.append("image",c.image),n.append("categories",c.categories);var a={method:"PUT",headers:{"X-CSRFToken":O.a.get("csrftoken")},body:n};fetch("/api_v1/articles/".concat(e.article.id,"/"),a),function(){x.apply(this,arguments)}(),console.log("drID",e.article.id)},required:!0,name:"DFT",value:"SUBMITTED",children:"Submit"})})]})]})};var L=function(e){var t=Object(a.useState)({title:"",body:"",options:"",image:null,categories:""}),n=Object(d.a)(t,2),c=n[0],s=n[1],r=A.default.p(D||(D=Object(N.a)(["\n\tcolor: #000;\n\t:hover {\n\t\tcursor: pointer;\n\t}\n"]))),o=Object(a.useState)([]),m=Object(d.a)(o,2),x=m[0],f=m[1],p=Object(a.useState)(),v=Object(d.a)(p,2),g=v[0],y=v[1],k=function(e){var t=e.target,n=t.name,a=t.value;s(Object(j.a)(Object(j.a)({},c),{},Object(b.a)({},n,a)))};Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/articles/?options=ALL");case 2:if((t=e.sent).ok){e.next=7;break}console.log(t),e.next=13;break;case 7:return e.next=9,t.json();case 9:n=e.sent,f(n),console.log({data:n}),console.log({myArticles:x});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[,e.isAuth]);var F=function(e){e.preventDefault();var t=new FormData;t.append("title",c.title),t.append("body",c.body),t.append("options",e.target.value),t.append("image",c.image),t.append("categories",c.categories);var n={method:"POST",headers:{"X-CSRFToken":O.a.get("csrftoken")},body:t};fetch("/api_v1/articles/",n),s({title:"",body:"",options:"",image:null,categories:""})},C=Object(u.jsx)("div",{className:"readMore",children:"Read More"}),T=Object(w.a)(new Set(null===x||void 0===x?void 0:x.map((function(e){return e.options}))));console.log(T);var L=T.map((function(e){return Object(u.jsx)("button",{className:"myArticleButton nav-btn btn btn-dark mx-2 justify-content-center btn-lg",style:{fontFamily:"Oswald"},onClick:function(){return y(e)},children:e},e)})),B=null===x||void 0===x?void 0:x.filter((function(e){return g?e.options===g:e})),_=null===x||void 0===x?void 0:x.filter((function(e){return"DRAFT"===g?"DRAFT"===e.options:e})),E=null===_||void 0===_?void 0:_.map((function(e){return Object(u.jsx)(R,{article:e})}));console.log({myFilteredDrafts:_});var P=null===B||void 0===B?void 0:B.map((function(e){return Object(u.jsxs)("div",{style:{background:"antiquewhite"},className:"backgroundDiv mt-3 shadow p-3 mb-5 bg-body rounded mt-2",children:[Object(u.jsx)("img",{className:"article-image rounded mx-auto d-block",src:e.image}),Object(u.jsxs)("p",{className:"ds-flex justify-content-center text-align-center",style:{fontStyle:"italic"},children:[" by ",e.author_name.charAt(0).toUpperCase()+e.author_name.slice(1)]}),Object(u.jsx)("span",{children:Object(u.jsx)("p",{className:"font-italic",style:{fontFamily:"Oswald",fontStyle:"iitalic"},children:e.options})}),Object(u.jsx)("h3",{className:"articleTitle",style:{fontFamily:"Oswald"},children:e.title}),Object(u.jsx)(r,{children:Object(u.jsx)(S.a,{text:e.body,min:100,ideal:200,max:1e6,style:{cursor:"pointer"},readMoreText:C})})]})}));return console.log(P),e.isAuth?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:" container-md  mb-3",children:[Object(u.jsx)("h2",{className:"d-flex justify-content-center mt-2 headers shadow p-3 mb-5 bg-body rounded",children:"My Articles"}),Object(u.jsx)("div",{class:"container",children:Object(u.jsx)("div",{class:"row",children:Object(u.jsxs)("div",{class:"col text-center",children:[L,Object(u.jsx)("a",{className:"homeButton nav-btn btn btn-dark mx-2 justify-content-center sticky-top btn-lg",href:"#form",style:{fontFamily:"Oswald"},children:"Draft New"})]})})}),"DRAFT"===g?E:P,Object(u.jsx)("div",{className:"border"}),Object(u.jsx)("div",{className:"container  mb-3",children:Object(u.jsxs)("div",{className:"ds-flex justify-content-center mt-3  mb-5",children:[Object(u.jsx)("h2",{className:"newArticleForm text-center mt-3",children:"Submit new article"}),Object(u.jsxs)("form",{id:"form",className:"mt-3 ds-flex justify-content-center mt-3",children:[Object(u.jsx)("a",{name:"form"}),Object(u.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(u.jsx)("label",{htmlFor:"title",children:"Title"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"articleTitle",placeholder:"Article Title",onChange:k,required:!0,name:"title",value:c.title})]}),Object(u.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(u.jsx)("label",{htmlFor:"body",children:"Article Body"}),Object(u.jsx)("textarea",{type:"text",className:"form-control",id:"articleText",placeholder:"Article body",onChange:k,required:!0,name:"body",value:c.body})]}),Object(u.jsx)("label",{htmlFor:"body",children:"Category"}),Object(u.jsx)("input",{className:"form-control",onChange:k,name:"categories",value:c.categories,placeholder:"Category"}),Object(u.jsx)("div",{className:"form-group text-left mb-3",children:Object(u.jsx)("input",{type:"file",name:"image",onChange:function(e){var t=e.target.files[0];s(Object(j.a)(Object(j.a)({},c),{},{image:t}))}})}),Object(u.jsx)("div",{className:"form-group text-left mb-3 ",children:Object(u.jsx)("button",{type:"button",className:"homeButton form-control btn btn-dark",id:"articleOptions",onClick:F,required:!0,name:"DFT",value:"DRAFT",we:!0,children:"Save as  Draft"})}),Object(u.jsx)("div",{className:"form-group text-left mb-3",children:Object(u.jsx)("button",{type:"button",className:" homeButton form-control  btn btn-dark",id:"articleOptions",onClick:F,required:!0,name:"DFT",value:"SUBMIT",children:"Submit"})})]})]})})]})}):Object(u.jsx)(h.a,{to:"/"})};var B,_=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("footer",{id:"footer",children:[" \xa9 Carolina Code School Student - Isaac Barcroft",Object(u.jsx)("div",{class:"footButton"})]})})},E=n(33),P=n.n(E);var q=function(e){var t=Object(a.useState)({title:"",body:"",options:"",image:null,categories:""}),n=Object(d.a)(t,2),c=(n[0],n[1],A.default.p(B||(B=Object(N.a)(["\n\tcolor: #000;\n\t:hover {\n\t\tcursor: pointer;\n\t}\n"])))),s=Object(a.useState)([]),r=Object(d.a)(s,2),o=r[0],b=r[1],j=Object(a.useState)(),m=Object(d.a)(j,2),x=m[0],f=m[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/articles/?options=ALL");case 2:if((t=e.sent).ok){e.next=7;break}console.log(t),e.next=13;break;case 7:return e.next=9,t.json();case 9:n=e.sent,b(n),console.log({data:n}),console.log({allArticles:o});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[,e.isAuth]);var p=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var a,c,s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("options",t.target.dataset.options),a.append("body",n),c={method:"PUT",headers:{"X-CSRFToken":O.a.get("csrftoken")},body:a},e.next=7,fetch("/api_v1/articles/".concat(t.target.value,"/"),c);case 7:(s=e.sent).ok?(r=o.filter((function(e){return e.id!=t.target.value})),b(r)):console.log(s);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=Object(u.jsx)("div",{className:"readMore",children:"Read More"}),g=Object(w.a)(new Set(null===o||void 0===o?void 0:o.map((function(e){return e.options}))));console.log(g);var y=g.map((function(e){return Object(u.jsx)("button",{className:"myArticleButton nav-btn btn btn-dark mx-2 justify-content-center btn-lg",style:{fontFamily:"Oswald"},onClick:function(){return f(e)},children:e},e)})),k=null===o||void 0===o?void 0:o.filter((function(e){return x?e.options===x:e})),F=null===o||void 0===o?void 0:o.filter((function(e){return"DRAFT"===x?"DRAFT"===e.options:e})),C=null===F||void 0===F?void 0:F.map((function(e){return Object(u.jsx)(R,{article:e})}));console.log({myFilteredDrafts:F});var T=null===k||void 0===k?void 0:k.map((function(e){return Object(u.jsxs)("div",{style:{background:"antiquewhite"},className:"backgroundDiv mt-3 shadow p-3 mb-5 bg-body rounded mt-2",children:[Object(u.jsx)("img",{className:"article-image rounded mx-auto d-block",src:e.image}),Object(u.jsxs)("p",{className:"ds-flex justify-content-center text-align-center",style:{fontStyle:"italic"},children:[" by ",e.author_name.charAt(0).toUpperCase()+e.author_name.slice(1)]}),Object(u.jsx)("span",{children:Object(u.jsx)("p",{className:"font-italic",style:{fontFamily:"Oswald",fontStyle:"iitalic"},children:e.options})}),Object(u.jsx)("h3",{className:"articleTitle",style:{fontFamily:"Oswald"},children:e.title}),Object(u.jsx)(c,{children:Object(u.jsx)(S.a,{text:e.body,min:100,ideal:200,max:1e6,style:{cursor:"pointer"},readMoreText:v})}),"SUBMITTED"===x?Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{"data-options":"REJECTED",value:e.id,onClick:function(t){return p(t,e.body)},className:"myArticleButton nav-btn btn btn-dark mx-2 justify-content-center",children:"REJECT"}),Object(u.jsx)("button",{"data-options":"PUBLISHED",value:e.id,onClick:function(t){return p(t,e.body)},className:"myArticleButton nav-btn btn btn-dark mx-2 justify-content-center",children:"PUBLISH"})]}):Object(u.jsx)("p",{})]})}));return console.log(T),e.isAuth?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:" container-md  mb-3",children:[Object(u.jsx)("h2",{className:"d-flex justify-content-center mt-2 headers shadow p-3 mb-5 bg-body rounded",children:"Admin"}),Object(u.jsx)("div",{class:"container",children:Object(u.jsx)("div",{class:"row",children:Object(u.jsx)("div",{class:"col text-center",children:y})})}),"DRAFT"===x?C:T,Object(u.jsx)("div",{className:"border"}),Object(u.jsx)("div",{className:"container  mb-3",children:Object(u.jsx)("div",{className:"ds-flex justify-content-center mt-3  mb-5"})})]})}):Object(u.jsx)(h.a,{to:"/"})};var M=Object(h.i)((function(){var e=Object(a.useState)({username:"",email:"",is_staff:null}),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({alias:"",image:null}),r=Object(d.a)(s,2),o=r[0],b=r[1],j=Object(a.useState)({username:"",password:""}),x=Object(d.a)(j,2),g=x[0],w=x[1],N=(Object(h.h)(),Object(a.useState)([])),k=Object(d.a)(N,2),S=k[0],F=k[1],C=Object(a.useState)(),A=Object(d.a)(C,2),D=(A[0],A[1],Object(a.useState)(null)),R=Object(d.a)(D,2),B=R[0],E=R[1],M=Object(h.g)();function I(){return(I=Object(l.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":O.a.get("csrftoken")},body:JSON.stringify(g)},e.next=3,fetch("/rest-auth/logout/",n);case 3:if(a=e.sent){e.next=8;break}console.log(a),e.next=15;break;case 8:return console.log(a),e.next=11,a.json();case 11:e.sent,O.a.remove("Authorization"),E(!1),M.push("/login");case 15:h.a;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=new AbortController,t=e.signal,a=function(){var a=Object(l.a)(i.a.mark((function a(){var s,r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/rest-auth/user/",{signal:t});case 2:if((s=a.sent).ok){a.next=8;break}console.log("not ok"),E(!1),a.next=17;break;case 8:return a.next=10,s.json();case 10:r=a.sent,c(r),console.log({response:s}),console.log({data:r}),E(!0),console.log({admin:n}),console.log(n.is_staff);case 17:return a.abrupt("return",(function(){e.abort()}));case 18:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a()}),[B]),Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api_v1/articles/");case 2:if((t=e.sent).ok){e.next=7;break}console.log(t),e.next=12;break;case 7:return e.next=9,t.json();case 9:n=e.sent,F(n),console.log({data:n});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[,B]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(y,{handleLogoutSubmit:function(e){return I.apply(this,arguments)},isAuth:B,admin:n}),Object(u.jsxs)(h.d,{children:[Object(u.jsx)(h.b,{path:"/login",children:Object(u.jsx)(p,{isAuth:B,setIsAuth:E,users:g,setUsers:w})}),Object(u.jsx)(h.b,{path:"/register",children:Object(u.jsx)(f,{isAuth:B,setIsAuth:E})}),Object(u.jsx)(h.b,{path:"/profile",isAuth:B,children:Object(u.jsx)(m,{profile:o,setProfile:b,handleSubmit:function(e){e.preventDefault();var t=new FormData;t.append("alias",o.alias),t.append("avatar",o.image);var n={method:"POST",headers:{"X-CSRFToken":O.a.get("csrftoken")},body:t};fetch("api_v1/accounts/",n)}})}),Object(u.jsx)(h.b,{path:"/main",children:Object(u.jsx)(v,{articles:S})}),Object(u.jsx)(h.b,{path:"/myarticles",children:Object(u.jsx)(L,{articles:S,isAuth:B})}),Object(u.jsx)(h.b,{path:"/admin",children:Object(u.jsx)(q,{articles:S,isAuth:B,admin:n})}),Object(u.jsx)(h.b,{path:"/",children:Object(u.jsx)(T,{articles:S})})]}),Object(u.jsx)(P.a,{text:"^",distance:50,breakpoint:908,style:{backgroundColor:"#191C1F",color:"white"},className:"scroll-your-role",speed:50,target:0,icon:Object(u.jsx)("i",{class:"bi bi-caret-up-square"})}),Object(u.jsx)(_,{})]})})),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(g.a,{children:Object(u.jsx)(M,{})})}),document.getElementById("root")),I()}},[[56,1,2]]]);
//# sourceMappingURL=main.7b965201.chunk.js.map